<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day7_3</title>
</head>
<body style="margin: 50px;">
    
    <h1>Advanced JavaScript Programming -- Async/await </h1>
    <hr/>
    Search value: <input type="text" id="tb1" name="tb1" />
    <input type="button"   value="Find by EmpNo"   onclick="fn_byempno()"  />

    <br/><br/>

    <p id="p1"></p>

    <script>

        async function fn_byempno(){
            var textObj = document.getElementById("tb1").value;
            let url = "https://dummy.restapiexample.com/api/v1/employee/" + textObj;
            fetch(url).then((response) => {

                if(true)
					{
						return  Promise.resolve("Employee details are: "); 
					}
					else
					{
						return  Promise.reject ("Employee not found");
					}
            });

            try {
            var resultObj = await response;
            document.getElementById("p1").innerHTML = resultObj
            } 
            catch (error) {
                
            }
        }
    
    </script>

</body>
</html>